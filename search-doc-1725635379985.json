[{"title":"Data Sources","type":0,"sectionRef":"#","url":"/docs/data-source/","content":"Data Sources Data Sources are collections of data that can be linked to Templates and Generators. For example a Data Source could contain monsters from Dungeons &amp; Dragons 5e, so that the monsters can be used in a Template. Import Sales &amp; Dungeons supports additional import formats. Currently supported are: CSV: Tabular dataFight Club 5e XML: Data from the Fight Club 5e xml filesFoundryVTT: Data from FoundryVTT modules5e.tools: JSON data from 5e.tools","keywords":""},{"title":"Fight Club 5e XML Format","type":0,"sectionRef":"#","url":"/docs/data-source/5e-xml","content":"Fight Club 5e XML Format You can import compedium xml files. Information about the files and how to get or build them can be found here: https://github.com/kinkofer/FightClub5eXMLhttps://github.com/kinkofer/5eTtoFC5","keywords":""},{"title":"Getting Started","type":0,"sectionRef":"#","url":"/docs/intro","content":"Getting Started With Sales &amp; Dungeons you can create highly customizable handouts, quick reference and much more for your Dungeons and Dragons (or other PnP) Sessions. Most Thermal Printer are small in size and can be taken with you and kept right at the gaming table. Use-cases range from printing out magic items, spells or a letter that the group found to little character sheets of your players to use as DM note. The possibilities are nearly endless! 1. Download: To get started download the latest release from the releases page.2. Setup Printer: Now you need to setup your Thermal Printer. Instructions depend on your Printer and Operation System. For more information check Setup.3. Learn how to create templates: To create your first template, check out the Template page.4. Join the Discord: If you have any questions or need help, join the Discord and ask away!","keywords":""},{"title":"Advanced","type":0,"sectionRef":"#","url":"/docs/advanced/","content":"Advanced This section contains more advanced topics that are not needed for the basic usage of Sales &amp; Dungeons.","keywords":""},{"title":"FoundryVTT","type":0,"sectionRef":"#","url":"/docs/data-source/foundry-vtt","content":"","keywords":""},{"title":"Example​","type":1,"pageTitle":"FoundryVTT","url":"/docs/data-source/foundry-vtt#example","content":"To try it out you can download the Classic Fantasy Compendium. Just download the module.zip, unzip and import the module.json in S&amp;D. "},{"title":"CSV","type":0,"sectionRef":"#","url":"/docs/data-source/csv","content":"","keywords":""},{"title":"Google Sheet Example​","type":1,"pageTitle":"CSV","url":"/docs/data-source/csv#google-sheet-example","content":"https://docs.google.com/spreadsheets/d/1U8oUtraC19f4SxyadE3Xal803CRTRqS0i3XzBMzyg-o/edit?usp=sharing Create a copy of that sheetIf you created your data just download as .csvImport into S&amp;D "},{"title":"CSV Example​","type":1,"pageTitle":"CSV","url":"/docs/data-source/csv#csv-example","content":"Name,Author,Slug,Description Mundane Loot,BigJk,mundane-loot,Some mundane loot duh! Name,Worth,Weight,Whatever Gem Dust,1gp,10,A Stick,Nothing,10,B Cool Sword,30gp,2,C Bag of Dust,450gp,10,D 1kg of Salt,2sp,5,E Snail,100gp,2,F Beer,1sp,5,G Silver Dagger,10gp,1,H  "},{"title":"Building","type":0,"sectionRef":"#","url":"/docs/advanced/building","content":"","keywords":""},{"title":"Pre-requisites​","type":1,"pageTitle":"Building","url":"/docs/advanced/building#pre-requisites","content":"You will need the following installed on your system: Node.jsGitGo "},{"title":"Building on Unix (osx, linux)​","type":1,"pageTitle":"Building","url":"/docs/advanced/building#building-on-unix-osx-linux","content":"1. Clone the repository​ git clone git@github.com:BigJk/snd.git  2. Building the frontend​ cd frontend npm run build cd ../  3. Run ./build.sh​ cd snd ./build.sh  After running the build script, you will find the compiled binary in the build/release/ directory. "},{"title":"Buildscript environment variables​","type":1,"pageTitle":"Building","url":"/docs/advanced/building#buildscript-environment-variables","content":"SND_TAGS: build tags to enable features LIBUSB: enable libusb supportELECTRON: enable electron (gui) support APP_NAME: binary name (default: Sales &amp; Dungeons)TARGET_DIR: target directory (default: build/release)OSX_APP_BUNDLE_ENABLED: enable app bundle creation on osx (default: false)OSX_APP_BUNDLE_DIR: app bundle directory (default: value of TARGET_DIR) "},{"title":"Building on Windows​","type":1,"pageTitle":"Building","url":"/docs/advanced/building#building-on-windows","content":"Currently, there is no build script for Windows. You can take a look at the build.sh script and try to replicate the steps on Windows. 1. Clone the repository​ git clone git@github.com:BigJk/snd.git  2. Building the frontend​ cd frontend npm run build cd ../  3. Building the backend​ go build -o snd.exe cmd/app -tags &quot;ELECTRON&quot;  "},{"title":"Publish to the Workshop","type":0,"sectionRef":"#","url":"/docs/advanced/workshop","content":"","keywords":""},{"title":"Publishing Content​","type":1,"pageTitle":"Publish to the Workshop","url":"/docs/advanced/workshop#publishing-content","content":"To publish your own content you need to have a git repository containing all the content as separate folders. If you want to see a example take a look at this repository: https://github.com/BigJk/snd-bigjk-templates It's recommended to use the default folder names that are generated if you export a template, generator or data source as folder from S&amp;D.The top-level README.md will be shown inside of S&amp;D when browsing to your package.After that you want to drop by the Sales &amp; Dungeons Discord and post your repository in the #repo-request channel so we can add it to the public packages. "},{"title":"API Routes","type":0,"sectionRef":"#","url":"/docs/advanced/api","content":"","keywords":""},{"title":"Architecture​","type":1,"pageTitle":"API Routes","url":"/docs/advanced/api#architecture","content":" "},{"title":"Protocol​","type":1,"pageTitle":"API Routes","url":"/docs/advanced/api#protocol","content":"Communication is done via HTTP POST requests only, because I'm using my own mini-rpc framework which makes it very simple to make go functions available to a frontend. It's called nra, and you can find more about it here. In essence: All requests are POSTThe body of the request is a JSON encoded array of arguments (e.g. [&quot;arg1&quot;, &quot;arg2&quot;, 3, { &quot;hello&quot;: &quot;world&quot; }])All functions are present under http://127.0.0.1:7123/api/FUNCTION_NAMEYou can get a basic overview about the available functions via http://127.0.0.1:7123/api/functions "},{"title":"Examples​","type":1,"pageTitle":"API Routes","url":"/docs/advanced/api#examples","content":"S&amp;D Python SDK: Example python sdk generated automatically "},{"title":"Cups for Linux & Mac","type":0,"sectionRef":"#","url":"/docs/printer/setup/cups","content":"","keywords":""},{"title":"Instructions​","type":1,"pageTitle":"Cups for Linux & Mac","url":"/docs/printer/setup/cups#instructions","content":""},{"title":"1. Add Printer​","type":1,"pageTitle":"Cups for Linux & Mac","url":"/docs/printer/setup/cups#1-add-printer","content":"Enable the CUPS Web-Interface by running cupsctl WebInterface=yes in the terminalVisit http://localhost:631/admin/Use your user credentials to log inPress Add PrinterIf your printer is plugged in it should be selectable under Local Printers. Select it.Give it a Name and DescriptionFor Make select Raw and ContinueFor Model select Raw Queue (en)Press Add Printer "},{"title":"2. In Sales & Dungeons​","type":1,"pageTitle":"Cups for Linux & Mac","url":"/docs/printer/setup/cups#2-in-sales--dungeons","content":"Go to the Devices page and look for the name of your printer and press the Use button.Go to the Settings page and set the correct Printer Width. Check Tested Printer for printing width.Disable Explicit Initialization and Force Standard Mode Important: If you don't find your printer listed as cups just go into the settings. Select CUPS as printer type and put in the name of the printer as endpoint manually. "},{"title":"Printer Setup","type":0,"sectionRef":"#","url":"/docs/printer/setup/","content":"","keywords":""},{"title":"Windows​","type":1,"pageTitle":"Printer Setup","url":"/docs/printer/setup/#windows","content":"For Windows, it is recommended to start by trying the Generic Windows Driver setup. If this doesn't work you can either try using manufacturer supplied drivers or LibUSB. "},{"title":"Linux & Mac​","type":1,"pageTitle":"Printer Setup","url":"/docs/printer/setup/#linux--mac","content":"For Linux &amp; Mac, it is recommended to start by trying the CUPS setup. If this doesn't work you can either try using manufacturer supplied drivers or LibUSB. "},{"title":"Templating","type":0,"sectionRef":"#","url":"/docs/templating/","content":"","keywords":""},{"title":"Learning​","type":1,"pageTitle":"Templating","url":"/docs/templating/#learning","content":"If you are new to HTML, CSS and the likes a good starting point might be: HTML: HTML IntroductionCSS: Getting started with CSSNunjucks: Templating "},{"title":"Template Types​","type":1,"pageTitle":"Templating","url":"/docs/templating/#template-types","content":"There are two types of templates that you can build in Sales &amp; Dungeons. "},{"title":"Template​","type":1,"pageTitle":"Templating","url":"/docs/templating/#template","content":"A typical Template is used to create a print-out for a certain type of entry. Examples are: Template for MonstersTemplate for SpellsTemplate for Items... "},{"title":"Windows Generic Driver","type":0,"sectionRef":"#","url":"/docs/printer/setup/windows-generic","content":"","keywords":""},{"title":"Instructions​","type":1,"pageTitle":"Windows Generic Driver","url":"/docs/printer/setup/windows-generic#instructions","content":""},{"title":"1. Change the USB Device Driver​","type":1,"pageTitle":"Windows Generic Driver","url":"/docs/printer/setup/windows-generic#1-change-the-usb-device-driver","content":"You have to open the Device Manager and find the entry for your plugged in Printer. Try plugging it in and out to see what device it might be. If you found it: Right Click -&gt; Update DriverBrowse my computer for driversLet me pick from a list of available drivers on my computerUncheck Show compatible hardwareManufacturer Microsoft and select USB Printing SupportFinish setup "},{"title":"2. Check the USB Device Number​","type":1,"pageTitle":"Windows Generic Driver","url":"/docs/printer/setup/windows-generic#2-check-the-usb-device-number","content":"Still in the Device Manager Find the USB Printing Support Device under Universal Serial Bus controllersRight Click -&gt; Properties -&gt; Details TabSelect Bus relations as PropertyThe Value should end with something like USB001, USB002, ...Note that value "},{"title":"3. Add the Printer​","type":1,"pageTitle":"Windows Generic Driver","url":"/docs/printer/setup/windows-generic#3-add-the-printer","content":"Open Printer &amp; scanners windows settings: Press the Add a printer or scanner button and let it runPress The printer that I want isn't listedSelect Add a local printer or network printer with manual settingsCheck Use an existing port and select the correct USB device. It should be named like USB001 (Virtual printer port for USB). Should match the one from the USB Printing Support device.Manufacturer Generic and select Generic / Text OnlyUse the driver that is currently installed (recommended)Give it a name and finish the setup The printer is now registered in Windows. "},{"title":"4. In Sales & Dungeons​","type":1,"pageTitle":"Windows Generic Driver","url":"/docs/printer/setup/windows-generic#4-in-sales--dungeons","content":"Go to the Devices page and look for the name of your printer and press the Use button.Go to the Settings page and set the correct Printer Width. Check Tested Printer for printing width.Disable Explicit Initialization and Force Standard Mode "},{"title":"LibUSB / Raw USB Printing","type":0,"sectionRef":"#","url":"/docs/printer/setup/libusb","content":"","keywords":""},{"title":"Finding the right endpoint​","type":1,"pageTitle":"LibUSB / Raw USB Printing","url":"/docs/printer/setup/libusb#finding-the-right-endpoint","content":"The tricky part is to find the infos needed to build the endpoint definition for Sales &amp; Dungeons. This can be done by using the lsusb command on Linux or OSX. On Windows you can use the USBView tool. "},{"title":"Example lsusb with Zjiang ZJ-8330​","type":1,"pageTitle":"LibUSB / Raw USB Printing","url":"/docs/printer/setup/libusb#example-lsusb-with-zjiang-zj-8330","content":"Let's take the Zjiang ZJ-8330 as an example. This is a common chinese thermal printer. The output of lsusb looks like this: Bus 002 Device 001: ID 2109:0817 VIA Labs, Inc. USB3.0 Hub Serial: 000000000 Bus 002 Device 002: ID 2109:2817 VIA Labs, Inc. USB2.0 Hub Serial: 000000000 Bus 002 Device 003: ID 0416:5011 Winbond Electronics Corp. POS80 Printer USB Bus 000 Device 000: ID 2109:0817 VIA Labs, Inc. USB 3.1 Bus Bus 000 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub  The important part is the Bus 002 Device 003: ID 0416:5011 Winbond Electronics Corp. POS80 Printer USB. The 0416 is the vendor id and the 5011 is the product id. Without going into details, we still need the endpoint address. They start from 01 and increment. The easiest way to find the right endpoint is to try them out. With the chinese printers, the endpoint is usually 01 - 03. Just increment and try printing. This information results in the following endpoint input for the settings of S&amp;D: 0416:5011:03 "},{"title":"Generator​","type":1,"pageTitle":"Templating","url":"/docs/templating/#generator","content":"A Generator is used to create a print-out with random generated content based on some configuration. Examples are: Generator for random NPC statsGenerator for a random dungeonGenerator for a random encounter... "},{"title":"Printer","type":0,"sectionRef":"#","url":"/docs/printer/","content":"","keywords":""},{"title":"Requirements​","type":1,"pageTitle":"Printer","url":"/docs/printer/#requirements","content":"At the moment Sales &amp; Dungeons only supports the ESC/POS (Epson Standard Code) control codes, which is still one of the most used control code set. Check if a thermal printer you are interested in mentions ESC/POS or Epson in the description or manual. In general the rule of thumb is: Most cheap chinese thermal printer found on Amazon or AliExpress support itMost epson thermal printer obviously support itA lot of older Serial printer (like Metapace T-1) also support itMore specific information about tested printers can be found under Tested Printers "},{"title":"FAQ","type":0,"sectionRef":"#","url":"/docs/faq","content":"","keywords":""},{"title":"My printer isn't printing the full paper width, what to do?​","type":1,"pageTitle":"FAQ","url":"/docs/faq#my-printer-isnt-printing-the-full-paper-width-what-to-do","content":"The default printing width in S&amp;D is set for 58mm printers. Just go to the settings and increase the printer width. See Tested Printer for common values. Rule of thumb is: 58mm: 38480mm: 504 - 576 "},{"title":"My printer is randomly stopping half way through printing, what to do?​","type":1,"pageTitle":"FAQ","url":"/docs/faq#my-printer-is-randomly-stopping-half-way-through-printing-what-to-do","content":"Try enabling Explicit Initialization and / or Force Standard Mode in the settings and unplugging (not just using the on/off switch) your printer for a few seconds until all LEDs are out between changing the settings. "},{"title":"Windows: Multiple Devices​","type":1,"pageTitle":"FAQ","url":"/docs/faq#windows-multiple-devices","content":"It was reported that in some cases a printer might be registered twice in the Device Manager. Removing the device should fix problems. "},{"title":"My printer is only printing gibberish characters, what to do?​","type":1,"pageTitle":"FAQ","url":"/docs/faq#my-printer-is-only-printing-gibberish-characters-what-to-do","content":"Try enabling image chunking in the settings with a value of 200 or 100. If that doesn't fix it try the steps in the question before. "},{"title":"I'm getting a Trojan warning on Windows, what's going on?​","type":1,"pageTitle":"FAQ","url":"/docs/faq#im-getting-a-trojan-warning-on-windows-whats-going-on","content":"This is a false positive triggered by a library that S&amp;D uses. In newer versions of S&amp;D the related component was disabled and trojan warnings should not occur anymore. More info: https://github.com/BigJk/snd/issues/28 "},{"title":"I'm getting 'RAW USB Printing' errors, what to do?​","type":1,"pageTitle":"FAQ","url":"/docs/faq#im-getting-raw-usb-printing-errors-what-to-do","content":"If you get errors like Error: printer wasn't able to print: libusb: bad access [code -3] or Error: printer wasn't able to print: not supported [code -12] this can be related to other drivers interfering or S&amp;D not having enough privilege's. You can try: Running S&amp;D as Admin (Windows) or sudo (Mac, Linux)Switching the USB port and re-selecting it on the Device pageTry using Direct Printing (Windows) or CUPS (Mac, Linux) "},{"title":"Getting strange libusb errors, what to do?​","type":1,"pageTitle":"FAQ","url":"/docs/faq#getting-strange-libusb-errors-what-to-do","content":"If you get errors like handle_events: error: libusb: interrupted [code -10] and don't need 'Raw USB Printing' try downloading the gui instead of gui-usb version of S&amp;D. "},{"title":"Mac App: It's not opening because it's from a unverified developer​","type":1,"pageTitle":"FAQ","url":"/docs/faq#mac-app-its-not-opening-because-its-from-a-unverified-developer","content":"If your mac is telling you that this app is from a unverified developer you can allow it via the &quot;Privacy &amp; Security&quot; settings. More info: Open a Mac app from an unidentified developer "},{"title":"Mac App: It's not opening because the app \"is damaged\"​","type":1,"pageTitle":"FAQ","url":"/docs/faq#mac-app-its-not-opening-because-the-app-is-damaged","content":"On M1, M2, etc. it can happen that the app is reported as damaged. Just copy Sales &amp; Dungeons into your Applications folder and execute the following command to allow it to run: xattr -d com.apple.quarantine &quot;/Applications/Sales &amp; Dungeons.app/&quot;  "},{"title":"Generator","type":0,"sectionRef":"#","url":"/docs/templating/generator","content":"","keywords":""},{"title":"Information​","type":1,"pageTitle":"Generator","url":"/docs/templating/generator#information","content":"Here basic information for the generator, like a name and description that will be shown in the generator page are set. "},{"title":"Author & Slug​","type":1,"pageTitle":"Generator","url":"/docs/templating/generator#author--slug","content":"It's important to know that generators will be identified by author and slug. Both are allowed to contain alphanumeric (a-z A-Z 0-9) and the - character. You can think about the slug as a simplified name that is used for identification instead of looking nice to display. Example: If you want a generator generating Dungeons you might set the name to Dungeon Generator, the Author to YourUsername and the slug to dungeon-generator. With the help of author and slug it is easier to share generators and update them when importing. "},{"title":"Pass Entries to Javascript​","type":1,"pageTitle":"Generator","url":"/docs/templating/generator#pass-entries-to-javascript","content":"Check Source section below. "},{"title":"Images​","type":1,"pageTitle":"Generator","url":"/docs/templating/generator#images","content":"It is possible to attach images to a generator. Imagine you want to add a border to your template. Here is the right place to add these images. If you added an image it is possible to access it in a template via the images variable. "},{"title":"Example​","type":1,"pageTitle":"Generator","url":"/docs/templating/generator#example","content":"&lt;img src=&quot;{{ images['your_image.png'] }}&quot; alt=&quot;&quot;&gt;  "},{"title":"Sources​","type":1,"pageTitle":"Generator","url":"/docs/templating/generator#sources","content":"Data sources are collection of entries (data) that can be linked to generators. An example would be a list of Monsters or Magic Items. Any data source that you want to link to this generator can be selected here. "},{"title":"Pass Entries to Javascript​","type":1,"pageTitle":"Generator","url":"/docs/templating/generator#pass-entries-to-javascript-1","content":"If you enabled this option in the Information tab the entries of all the data sources will be available as a javascript array called entries inside of the Print Template. "},{"title":"Config​","type":1,"pageTitle":"Generator","url":"/docs/templating/generator#config","content":"The config of a generator defines what kind of values a user can tweak. These are the values your generator template should respond to and are available in your template. Key: Specifies the key for the value. This affects how you access the value in the template. key_test can be accessed in template by {{ config.key_test }}Name &amp; Description: What the user will be shown as name and description for this config option.Type: What kind of input will be shown for the user.Default Value: The default value for this config "},{"title":"Seed​","type":1,"pageTitle":"Generator","url":"/docs/templating/generator#seed","content":"Every generator will have a seed as config option. This option can't be deleted and generator authors are advised to use the seed or the seeded random functions inside their Print Template to keep the output reproducible. More on that in the Print Template section. "},{"title":"Test Config​","type":1,"pageTitle":"Generator","url":"/docs/templating/generator#test-config","content":"Here you can change the test config for the template preview to see if everything works as expected. "},{"title":"Print Template​","type":1,"pageTitle":"Generator","url":"/docs/templating/generator#print-template","content":"Just like a Template a Generator also contains a Print Template that specifies what should be printed. With generators the template will most likely contain more complex logic and javascript than your typical Template. See Nunjucks Filter &amp; Extension for more info on additional filters and extensions available in Sales &amp; Dungeons. "},{"title":"Random​","type":1,"pageTitle":"Generator","url":"/docs/templating/generator#random","content":"Seed​ As mentioned before all generators should use the user provided seed in their generation logic. You can access the seed with {{ config.seed }}. There are two functions that are pre-seeded with the config.seed value. If you use them the template will be seeded correctly without any additional changes: random()​ Replacement for Math.random() RPG Dice Roller​ RPG Dice Roller is embedded in any generator template. You can access it via the global variable rpgDiceRoller. If you just want to quickly roll a dice and get the numeric output use: dice.roll('1d6+2').total "},{"title":"Tested Printers","type":0,"sectionRef":"#","url":"/docs/printer/models","content":"","keywords":""},{"title":"Zjiang ZJ-5890K Thermal Printer​","type":1,"pageTitle":"Tested Printers","url":"/docs/printer/models#zjiang-zj-5890k-thermal-printer","content":" Printer Width: 384Printer Type: Raw USB Printing: Endpoint=0416:5011:01Windows Direct Printing: Select Printer Name (Setup or install Chinese Driver)CUPS: Select Printer Name (Setup) Explicit Initialization: Off (or On when Direct USB Printing is used)Force Standard Mode: OffCut After Printing: Off "},{"title":"Notes​","type":1,"pageTitle":"Tested Printers","url":"/docs/printer/models#notes","content":"A lot of cheap 58mm printers you will find on Amazon and other shops are rebranded versions of this Printer. If your printer looks the same or is a generic 58mm printer try the above settings. "},{"title":"Zjiang ZJ-8330 Thermal Printer​","type":1,"pageTitle":"Tested Printers","url":"/docs/printer/models#zjiang-zj-8330-thermal-printer","content":" Printer Width: 576Printer Type: Raw USB Printing: Endpoint=0416:5011:03Windows Direct Printing: Select Printer Name (Setup or install Chinese Driver)CUPS: Select Printer Name (Setup) Explicit Initialization: Off (or On when Raw USB Printing is used)Force Standard Mode: OnCut After Printing: On / Off "},{"title":"Metapace T-1​","type":1,"pageTitle":"Tested Printers","url":"/docs/printer/models#metapace-t-1","content":" Printer Width: 504Printer Type: SerialEndpoint: COM3:57600_N81_2 On Windows: COM3 needs to be changed to the COM port that the printer is registeredOn Unix: COM3 should be replaced with /dev/tty.XXXXXX or something similar of the deviceWarning: Old serial printer tend to have small buffer. The _2 indicates that a wait of 2 seconds will occur before each data chunk will be sent to the printer. If the printer doesn't finish printing try to increase this value! It seems on Windows a 0 works but on Unix systems a 2 second delay is needed. Explicit Initialization: OnForce Standard Mode: OnCut After Printing: On / Off "},{"title":"Notes​","type":1,"pageTitle":"Tested Printers","url":"/docs/printer/models#notes-1","content":"A cheap DE-9 RS232-to-USB, DB-25 to DE-9 Adapter and DE-9 Null-Modem will be needed to connect this serial printer to your PC. Connection: Printer → DB-25 to DE-9 → DE-9 Null-Modem → DE-9 RS232-to-USB → PC https://en.wikipedia.org/wiki/RS-232https://en.wikipedia.org/wiki/Serial_cablehttps://en.wikipedia.org/wiki/Null_modem "},{"title":"BIXOLON SRP-350plusIII​","type":1,"pageTitle":"Tested Printers","url":"/docs/printer/models#bixolon-srp-350plusiii","content":" Printer Width: 504Printer Type: SerialPrinter Type: Windows Direct Printing: Select Printer Name (Setup)Serial: Follow Serial Windows notes below Explicit Initialization: OnForce Standard Mode: On "},{"title":"RONGTA 80 mm​","type":1,"pageTitle":"Tested Printers","url":"/docs/printer/models#rongta-80-mm","content":" Printer Width: 576Printer Type: Raw USB Printing: UntestedWindows Direct Printing: Untested (Setup)CUPS: Select Printer Name (Setup) Explicit Initialization: Off / On (on Windows)Force Standard Mode: Off / On (on Windows)Cut After Printing: On / Off "},{"title":"MUNBYN ITPP047 80 mm​","type":1,"pageTitle":"Tested Printers","url":"/docs/printer/models#munbyn-itpp047-80-mm","content":" Printer Width: 576Printer Type: Raw USB Printing: UntestedWindows Direct Printing: Tested (Setup)CUPS: Untested (Setup) Explicit Initialization: OffForce Standard Mode: OffCut After Printing: On / Off "},{"title":"MUNBYN IMP001 58 mm​","type":1,"pageTitle":"Tested Printers","url":"/docs/printer/models#munbyn-imp001-58-mm","content":" Printer Width: 384Printer Type: Raw USB Printing: UntestedWindows Direct Printing: Tested (Setup)CUPS: Untested (Setup) Explicit Initialization: OffForce Standard Mode: OffCut After Printing: On / Off "},{"title":"TSP100 Star Printer​","type":1,"pageTitle":"Tested Printers","url":"/docs/printer/models#tsp100-star-printer","content":" Printer Width: 509 (3 inch paper), 360 (2 inch paper)Printer Type: Windows Direct Printing: Select Printer Name (More info below) Explicit Initialization: OffForce Standard Mode: OffCut After Printing: On "},{"title":"Notes​","type":1,"pageTitle":"Tested Printers","url":"/docs/printer/models#notes-2","content":"Only Windows Driver Available. You need to download and install the driver and follow the following guide to enable ESC/POS mode. GOOJPRT MTP-3F 80mm  Printer Width: 576Printer Type: Raw USB Printing: UntestedWindows Direct Printing: UnknownCUPS: Untested Explicit Initialization: UnknownForce Standard Mode: UnknownCut After Printing: On / Off "},{"title":"AI Features","type":0,"sectionRef":"#","url":"/docs/templating/ai","content":"","keywords":""},{"title":"Setup​","type":1,"pageTitle":"AI Features","url":"/docs/templating/ai#setup","content":"To use the AI features you need to provide an API key. Open the settings of S&amp;D and scroll down to the AI section. Enable itPut in the key into API KeySelect the Provider and Model "},{"title":"Local Model​","type":1,"pageTitle":"AI Features","url":"/docs/templating/ai#local-model","content":"If you are using a local model, for example via LMStudio you want to select Custom (e.g. Local) as Provider. You can then put in the URL of the model as Custom URL and provide a optional Custom Model in case the custom url provides multiple models. In general all endpoints that support the OpenAI API specs should work, which is most of them. "},{"title":"Context Window and Max Tokens​","type":1,"pageTitle":"AI Features","url":"/docs/templating/ai#context-window-and-max-tokens","content":"Context Window: Defines how much token are allowed to be used to give the model context. The more context the better the model can generate content as he gets more example to work with.Max Tokens: Defines how many tokens the model should generate at max. If this is too low the model might not be able to finish the data. "},{"title":"Template Features​","type":1,"pageTitle":"AI Features","url":"/docs/templating/ai#template-features","content":"If you open a Template you can open the AI Tools tab in the sidebar. Here you can generate content for your template. AI Entry: This will generate a new entry based on the prompt. Example for a ttrpg monster template: generate a new entry about a rogue cash register.AI Translation: This will try translating the current selected entry to another language. "},{"title":"Nunjucks Template Features​","type":1,"pageTitle":"AI Features","url":"/docs/templating/ai#nunjucks-template-features","content":"You can also prompt the AI in the Nunjucks templates. {% ai %} you are a expert in ... {% user %} some question {% endai %}  "},{"title":"AI from Javascript​","type":1,"pageTitle":"AI Features","url":"/docs/templating/ai#ai-from-javascript","content":"In your templates the globally available aiPrompt function can also be used. const res = aiPrompt(&quot;you are a expert in ...&quot;, &quot;some question&quot;);  "},{"title":"Nunjucks Filter & Extensions","type":0,"sectionRef":"#","url":"/docs/templating/nunjucks-filter","content":"","keywords":""},{"title":"Filters​","type":1,"pageTitle":"Nunjucks Filter & Extensions","url":"/docs/templating/nunjucks-filter#filters","content":""},{"title":"Markdown​","type":1,"pageTitle":"Nunjucks Filter & Extensions","url":"/docs/templating/nunjucks-filter#markdown","content":"Markdown parsing is possible with the markdown and markdowni filters. The markdowni filter will return inline markdown, which means no line-breaks and paragraph margins. Uses markdown-it and has markdown table support enabled. {{ it.some_data | markdown }} {{ it.some_data | markdowni }}  "},{"title":"JSON​","type":1,"pageTitle":"Nunjucks Filter & Extensions","url":"/docs/templating/nunjucks-filter#json","content":"The json filter encodes the data as JSON which can help in debugging problems with a template or passing data to some javascript you want to execute. {{ it.some_data | json }}  "},{"title":"Source​","type":1,"pageTitle":"Nunjucks Filter & Extensions","url":"/docs/templating/nunjucks-filter#source","content":"Fetch sources by id from inside your template with the source filter. This is useful in generators to fetch a source that was selected by the user. {{ config.data_source.selected | source }} {{ &quot;ds:BigJk+open5e-monsters&quot; | source }} {% for item in &quot;ds:BigJk+open5e-monsters&quot; | source %} ... {% endfor %}  Using linked sources in generator​ If you want to use a linked source in a generator, you can use the sources variable. {% for sourceName in sources %} {% for item in sourceName | source %} ... {% endfor %} {% endfor %}  Getting source content into Javascript​ You can also get the source content into a javascript variable with the help of the json filter. const sources = JSON.parse({{ sources | json }});  "},{"title":"Extensions​","type":1,"pageTitle":"Nunjucks Filter & Extensions","url":"/docs/templating/nunjucks-filter#extensions","content":""},{"title":"JSON Data​","type":1,"pageTitle":"Nunjucks Filter & Extensions","url":"/docs/templating/nunjucks-filter#json-data","content":"You can add JSON data as new Nunjucks variables. This might be useful if JSON wants to be embedded as some kind of static data for the template. The variable the data will be saved to can be specified (some_var in the example). {% data &quot;some_var&quot; %} { &quot;test&quot;: &quot;some data&quot;, &quot;number&quot;: 123 } {% enddata %} {{ some_var.test }} {{ some_var.number }}  "},{"title":"Javascript Execution​","type":1,"pageTitle":"Nunjucks Filter & Extensions","url":"/docs/templating/nunjucks-filter#javascript-execution","content":"If you want to execute some javascript on the data within Nunjucks instead of dynamically in the HTML (&lt;script&gt;...&lt;/script&gt;) you can use the js extension. The extension expects a valid javascript function that takes 1 argument. The argument is a variable containing all the nunjucks variables. The function should return a value. That value will be saved to the nunjucks variable specified (some_var in the example). {% js &quot;some_var&quot; %} (state) =&gt; { // can access state.it, state.images, state.entries and any other nunjucks variables defined before this point. return state.it.test.map(t =&gt; t.num + 1) } {% endjs %} {% for item in some_var %} ... {% endfor %}  "},{"title":"Template","type":0,"sectionRef":"#","url":"/docs/templating/template","content":"","keywords":""},{"title":"Video guide​","type":1,"pageTitle":"Template","url":"/docs/templating/template#video-guide","content":" "},{"title":"Learning​","type":1,"pageTitle":"Template","url":"/docs/templating/template#learning","content":"If you are new to HTML, CSS and the likes a good starting point might be: HTML: HTML IntroductionCSS: Getting started with CSSNunjucks: Templating In the following section a brief introduction to the tabs found in the template creation will be given: "},{"title":"Information​","type":1,"pageTitle":"Template","url":"/docs/templating/template#information","content":"Here basic information for the template, like a name and description that will be shown in the template list are set. "},{"title":"Author & Slug​","type":1,"pageTitle":"Template","url":"/docs/templating/template#author--slug","content":"It's important to know that templates will be identified by author and slug. Both are allowed to contain alphanumeric (a-z A-Z 0-9) and the - character. You can think about the slug as a simplified name that is used for identification instead of looking nice to display. Example: If you want a template containing Magic Items you might set the name to Magic Items, the Author to YourUsername and the slug to magic-items. With the help of author and slug it is easier to share templates and update them when importing. "},{"title":"Images​","type":1,"pageTitle":"Template","url":"/docs/templating/template#images","content":"It is possible to attach images to a template. Imagine you want to add a border to your template. Here is the right place to add these images. If you added an image it is possible to access it in a template via the images variable. "},{"title":"Example​","type":1,"pageTitle":"Template","url":"/docs/templating/template#example","content":"&lt;img src=&quot;{{ images['your_image.png'] }}&quot; alt=&quot;&quot; /&gt;  "},{"title":"Sources​","type":1,"pageTitle":"Template","url":"/docs/templating/template#sources","content":"Data sources are collection of entries (data) that can be linked to templates. An example would be a list of Monsters or Magic Items. Any data source that you want to link to this template can be selected here. "},{"title":"Skeleton Data​","type":1,"pageTitle":"Template","url":"/docs/templating/template#skeleton-data","content":"The skeleton data is like an example entry that is used for template editing and entry creation. It is encoded as json. Depending on the type and value of a property a different input will be shown in the entry creation and editing. "},{"title":"— Type: Text​","type":1,"pageTitle":"Template","url":"/docs/templating/template#-type-text","content":"If a property is a text like the description in the following example a normal text input will be shown. { &quot;description&quot;: &quot;Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam&quot; }  "},{"title":"— Type: Number​","type":1,"pageTitle":"Template","url":"/docs/templating/template#-type-number","content":"If a property is a number like the hp in the following example a number input will be shown. { &quot;hp&quot;: 120 }  "},{"title":"— Type: List​","type":1,"pageTitle":"Template","url":"/docs/templating/template#-type-list","content":"If a property is a list (array) like the attacks in the following example it will be possible to create and remove list items with editable name and damage values. { &quot;attacks&quot;: [ { &quot;name&quot;: &quot;Bite&quot;, &quot;damage&quot;: 20 } ] }  List of basic types will also work. { &quot;attacks&quot;: [&quot;Bite&quot;, &quot;Slash&quot;] }  "},{"title":"— Type: Image​","type":1,"pageTitle":"Template","url":"/docs/templating/template#-type-image","content":"If any text property contains the text !IMAGE like the icon property in the following example a image input will be shown. { &quot;icon&quot;: &quot;!IMAGE&quot; }  To use it as an image in your template: &lt;img src=&quot;{{ it.icon }}&quot; alt=&quot;&quot; /&gt;  "},{"title":"Full Example​","type":1,"pageTitle":"Template","url":"/docs/templating/template#full-example","content":"A skeleton for a weapon could be the following: { &quot;category&quot;: &quot;Martial Melee Weapons&quot;, &quot;cost&quot;: &quot;10 gp&quot;, &quot;damage_dice&quot;: &quot;1d8&quot;, &quot;damage_type&quot;: &quot;slashing&quot;, &quot;name&quot;: &quot;Battleaxe&quot;, &quot;properties&quot;: [&quot;versatile (1d10)&quot;], &quot;weight&quot;: &quot;4 lb.&quot; }  "},{"title":"Merge Utilities​","type":1,"pageTitle":"Template","url":"/docs/templating/template#merge-utilities","content":"If you edit a template and the template has data sources attached to them, you can use the merge utilities to quickly generate a skeleton data. Let's imagine you imported a data source containing monsters and don't want to define the skeleton yourself. You can just use the Merge All button and Sales &amp; Dungeons will try to produce an optimal skeleton data from the entries, so you can focus on building a cool template! "},{"title":"Templates​","type":1,"pageTitle":"Template","url":"/docs/templating/template#templates","content":"A template contains two nunjucks templates. One that defines how the print-out should look, which is called the Print Template and one called List Template that defines additional information that should be shown under each entry in the template entry list. See Nunjucks Filter &amp; Extension for more info on additional filters and extensions available in Sales &amp; Dungeons. "},{"title":"Hotkeys​","type":1,"pageTitle":"Template","url":"/docs/templating/template#hotkeys","content":"In the template editors following hotkeys are available: Ctrl+Space: Open HintCtrl+G: Open Snippets "},{"title":"Variables​","type":1,"pageTitle":"Template","url":"/docs/templating/template#variables","content":"You will be able to access the data of the data skeleton or the selected entry in the template. To access the data by using the nunjucks variable syntax. Let's imagine you have the following data skeleton or selected entry data: { &quot;name&quot;: &quot;Cool Name&quot; }  To access the name property in the nunjucks html template you just need to write &lt;span&gt;Name: {{ it.name }}&lt;/span&gt;  "},{"title":"Additional Variables​","type":1,"pageTitle":"Template","url":"/docs/templating/template#additional-variables","content":""},{"title":"Printer Settings​","type":1,"pageTitle":"Template","url":"/docs/templating/template#printer-settings","content":"The printer settings you set are also available in the template under the settings variable. Using the settings.printerWidth setting is especially useful to change your design depending on the size of the printer. Most printer will either have a 58mm or 80mm print area, so it's wise to adopt your template to both sizes. "},{"title":"Images​","type":1,"pageTitle":"Template","url":"/docs/templating/template#images-1","content":"Any image that you saved inside your template will be available under the images variable. &lt;img src=&quot;{{ images['your_image.png'] }}&quot; alt=&quot;&quot; /&gt;  "}]