"use strict";(self.webpackChunksnd_docs_ds=self.webpackChunksnd_docs_ds||[]).push([[220],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>h});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var c=n.createContext({}),s=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=s(e.components);return n.createElement(c.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=s(a),m=r,h=u["".concat(c,".").concat(m)]||u[m]||d[m]||i;return a?n.createElement(h,o(o({ref:t},p),{},{components:a})):n.createElement(h,o({ref:t},p))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[u]="string"==typeof e?e:r,o[1]=l;for(var s=2;s<i;s++)o[s]=a[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},1353:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var n=a(7462),r=(a(7294),a(3905));const i={},o="API Routes",l={unversionedId:"advanced/api",id:"advanced/api",title:"API Routes",description:"Although Sales & Dungeons runs as a local application it is split into a backend (handling the database, printing and more) and the UI (handling the visual interface). Backend and frontend communicate via HTTP requests like typical web applications. This has the nice side effect that other applications can also interact with the S&D. Some examples of what you could do:",source:"@site/docs/advanced/api.md",sourceDirName:"advanced",slug:"/advanced/api",permalink:"/docs/advanced/api",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/advanced/api.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Advanced",permalink:"/docs/advanced/"},next:{title:"Building",permalink:"/docs/advanced/building"}},c={},s=[{value:"Architecture",id:"architecture",level:2},{value:"Protocol",id:"protocol",level:2},{value:"Examples",id:"examples",level:2}],p={toc:s},u="wrapper";function d(e){let{components:t,...a}=e;return(0,r.kt)(u,(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"api-routes"},"API Routes"),(0,r.kt)("p",null,"Although Sales & Dungeons runs as a local application it is split into a backend (handling the database, printing and more) and the UI (handling the visual interface). Backend and frontend communicate via HTTP requests like typical web applications. This has the nice side effect that other applications can also interact with the S&D. Some examples of what you could do:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Remotely create, delete, edit templates, generators and data sources"),(0,r.kt)("li",{parentName:"ul"},"Write a script that imports data sources from different sources than provided in S&D"),(0,r.kt)("li",{parentName:"ul"},"Connect your application to the data from S&D"),(0,r.kt)("li",{parentName:"ul"},"Trigger printing"),(0,r.kt)("li",{parentName:"ul"},"Create your own UI")),(0,r.kt)("h2",{id:"architecture"},"Architecture"),(0,r.kt)("center",null,(0,r.kt)("img",{src:"/img/snd_arch.png",style:{maxWidth:"700px",width:"100%",padding:"50px 0 50px 0"}})),(0,r.kt)("h2",{id:"protocol"},"Protocol"),(0,r.kt)("p",null,"Communication is done via HTTP POST requests only, because I'm using my own mini-rpc framework which makes it very simple to make go functions available to a frontend. It's called ",(0,r.kt)("inlineCode",{parentName:"p"},"nra"),", and you can find more about it ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/BigJk/nra"},"here"),". In essence:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"All requests are POST"),(0,r.kt)("li",{parentName:"ul"},"The body of the request is a JSON encoded array of arguments (e.g. ",(0,r.kt)("inlineCode",{parentName:"li"},'["arg1", "arg2", 3, { "hello": "world" }]'),")"),(0,r.kt)("li",{parentName:"ul"},"All functions are present under ",(0,r.kt)("inlineCode",{parentName:"li"},"http://127.0.0.1:7123/api/FUNCTION_NAME")),(0,r.kt)("li",{parentName:"ul"},"You can get a basic overview about the available functions via ",(0,r.kt)("inlineCode",{parentName:"li"},"http://127.0.0.1:7123/api/functions"))),(0,r.kt)("h2",{id:"examples"},"Examples"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/BigJk/snd/blob/master/sdk/python/snd_sdk.py"},"S&D Python SDK"),": Example python sdk generated automatically")))}d.isMDXComponent=!0}}]);